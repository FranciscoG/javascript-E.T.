<!DOCTYPE html>
<html class="no-js"> 
    <head>
        <meta charset="utf-8">
       
        <title>Sprite Test</title>
    </head>
    <body>
      <canvas id="cv" width="160" height="192"></canvas>

      <script src="drawer.js"></script>
      <script src="../sprites.js"></script>
      <script>

        var options = {
          hex: true,
          color: "#fce08c"
        };

        ET_walk = [
          SpriteDrawer(options, ETWalkSprite_A0),
          SpriteDrawer(options, ETWalkSprite_A1),
          SpriteDrawer(options, ETWalkSprite_A2),

          SpriteDrawer(options, ETWalkSprite_B0),
          SpriteDrawer(options, ETWalkSprite_B1),
          SpriteDrawer(options, ETWalkSprite_B2)
        ];

        var cv = document.getElementById('cv');
        var ctx = cv.getContext("2d");
        ctx.fillStyle = "#000";

        var scale = 2;

        cv.width = cv.width * scale;
        cv.height = cv.height * scale;
        ctx.scale(scale * 2,scale * 2) // only scales what's placed on the canvas
        ctx.webkitImageSmoothingEnabled = false;
        ctx.mozImageSmoothingEnabled = false;
        ctximageSmoothingEnabled = false;

        /**************************************************
          Walking Player animation sprite
        */

        var _i = 3;
        function draw(){
          ctx.fillRect(0, 0, cv.width, cv.height);
          ctx.drawImage(ET_walk[_i], 20, 20);
          _i++;
          if (_i > 5) {_i = 3;}
        };

        var framesToSkip = 5, counter = 0;

        function loop() {

          if (counter < framesToSkip) {
              counter++;
              requestAnimationFrame(loop);
              return;
          }

          draw();

          counter = 0;
          requestAnimationFrame(loop);
        }
        //loop();

        /**************************************************
          Title Screen ET
        */
        
        ET_title = [
          SpriteDrawer(options, TitleETGraphics_1),
          SpriteDrawer(options, TitleETGraphics_2),
          SpriteDrawer(options, TitleETGraphics_3),
          SpriteDrawer(options, TitleETGraphics_4),
          SpriteDrawer(options, TitleETGraphics_5),
          SpriteDrawer(options, TitleETGraphics_0)
        ];

        function showTitle(){
          ctx.fillRect(0, 0, cv.width, cv.height);
          ctx.drawImage(ET_title[0], 8, 20);
          ctx.drawImage(ET_title[1], 16, 20);
          ctx.drawImage(ET_title[2], 24, 20);
          ctx.drawImage(ET_title[3], 32, 20);
          ctx.drawImage(ET_title[4], 40, 20);
          ctx.drawImage(ET_title[5], 48, 20);

        }

        showTitle();


      </script>

    </body>
</html>
